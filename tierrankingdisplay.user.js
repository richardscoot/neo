// ==UserScript==
// @name         [cK] Tier Ranking Display
// @namespace    https://clraik.com/forum/showthread.php?74135-Tier-Ranking-Display-on-Neoboards&p=1088086#post1088086
// @version      1.3
// @description  Show tier on the neoboard
//               v1.3 - Support HTTPS site
// @updateURL    https://raw.githubusercontent.com/richardscoot/neo/master/tierrankingdisplay.user.js
// @downloadURL  https://raw.githubusercontent.com/richardscoot/neo/master/tierrankingdisplay.user.js
// @author       richardscoot @ clraik.com
// @match        www.neopets.com/neoboards/boardlist.phtml?board=34*
// @match        www.neopets.com/neoboards/topic.phtml?topic=*
// @require http://code.jquery.com/jquery-3.4.1.min.js
// @grant       GM.setValue
// @grant       GM.getValue
// ==/UserScript==

var _0x254b=['#0000','https','lue','ercon','div.t','astUp','open','\x20<spa','.json','2}\x5c)?','itle','dscoo','getVa','html','n\x20sty','setVa','TRDpe','dPost','>\x20a:n','th-ch','order','or:\x20','ta/pe','\x20span','-)\x20)','t/neo','/mast','send','hubus',';\x27><b','parse','-radi','le=\x27b','&#41;','\x20?(((','tent.','ttier','pic','div.b','er/da',';\x20col','ta/na','tierL','istSm','td.bl','td.to','.boar','ild(2',')\x20>\x20h','>&#40','\x20â€“\x20','repla','us:\x205','ichar','all\x20a','TRDSy','9]{1,','com/r','entri','the)|','dated','#fcbe','://ra','w.git','color','each','opicT','Messa','now','UC\x20','px;\x20b','respo'];(function(_0x2cb926,_0x932950){var _0x254bc9=function(_0x45b61e){while(--_0x45b61e){_0x2cb926['push'](_0x2cb926['shift']());}};_0x254bc9(++_0x932950);}(_0x254b,0x146));var _0x45b6=function(_0x2cb926,_0x932950){_0x2cb926=_0x2cb926-0x144;var _0x254bc9=_0x254b[_0x2cb926];return _0x254bc9;};var _0x4322c1=_0x45b6,syn,pettiers;const labelcolor=_0x4322c1(0x15b)+'03',labeltextcolor=_0x4322c1(0x166)+'00';(async()=>{var _0x940846=_0x4322c1;let _0x41bef6=await GM[_0x940846(0x172)+_0x940846(0x168)]('tierL'+_0x940846(0x16b)+_0x940846(0x15a),0x0);var _0x296b27=Date[_0x940846(0x162)]()-_0x41bef6;if(_0x296b27>0x2932e00){var _0x1845f7=Date[_0x940846(0x162)]();await GM[_0x940846(0x175)+_0x940846(0x168)](_0x940846(0x148)+_0x940846(0x16b)+_0x940846(0x15a),_0x1845f7);var _0x18d349=httpGet(_0x940846(0x167)+_0x940846(0x15c)+_0x940846(0x15d)+_0x940846(0x182)+_0x940846(0x169)+_0x940846(0x189)+_0x940846(0x157)+_0x940846(0x153)+_0x940846(0x171)+_0x940846(0x17f)+_0x940846(0x180)+_0x940846(0x145)+_0x940846(0x17c)+_0x940846(0x18a)+'.json');pettiers=JSON[_0x940846(0x184)](_0x18d349),await GM[_0x940846(0x175)+_0x940846(0x168)](_0x940846(0x176)+_0x940846(0x18a),_0x18d349);var _0x18d349=httpGet(_0x940846(0x167)+_0x940846(0x15c)+_0x940846(0x15d)+_0x940846(0x182)+'ercon'+_0x940846(0x189)+_0x940846(0x157)+_0x940846(0x153)+_0x940846(0x171)+_0x940846(0x17f)+_0x940846(0x180)+_0x940846(0x145)+_0x940846(0x147)+'mesyn'+_0x940846(0x16e));syn=JSON[_0x940846(0x184)](_0x18d349),await GM[_0x940846(0x175)+_0x940846(0x168)](_0x940846(0x155)+'n',_0x18d349);}else pettiers=JSON['parse'](await GM[_0x940846(0x172)+_0x940846(0x168)]('TRDpe'+_0x940846(0x18a))),syn=JSON[_0x940846(0x184)](await GM[_0x940846(0x172)+_0x940846(0x168)](_0x940846(0x155)+'n'));updateUI();})();function updateUI(){var _0x3ce168=_0x4322c1;$(_0x3ce168(0x14a)+_0x3ce168(0x149)+_0x3ce168(0x154)+_0x3ce168(0x17d))[_0x3ce168(0x15f)](function(){var _0x2ddea4=_0x3ce168;$(this)['html'](replaceText($(this)[_0x2ddea4(0x173)]()));}),$(_0x3ce168(0x14b)+_0x3ce168(0x18b))['each'](function(){var _0x4e77f2=_0x3ce168;$(this)[_0x4e77f2(0x173)](replaceText($(this)['html']()));}),$(_0x3ce168(0x144)+'oardT'+_0x3ce168(0x160)+_0x3ce168(0x170))['each'](function(){var _0x4b890b=_0x3ce168;$(this)[_0x4b890b(0x173)](replaceText($(this)[_0x4b890b(0x173)]()));}),$(_0x3ce168(0x16a)+_0x3ce168(0x160)+'itle\x20'+_0x3ce168(0x178)+_0x3ce168(0x179)+_0x3ce168(0x14d)+_0x3ce168(0x14e)+'1')[_0x3ce168(0x15f)](function(){var _0x5d0387=_0x3ce168;$(this)[_0x5d0387(0x173)](replaceText($(this)['html']()));}),$(_0x3ce168(0x14c)+_0x3ce168(0x177)+_0x3ce168(0x161)+'ge')['each'](function(){var _0x34c932=_0x3ce168;$(this)[_0x34c932(0x173)](replaceText($(this)[_0x34c932(0x173)]()));});}function httpGet(_0x54dba2){var _0x24e2e4=_0x4322c1,_0x4847aa=new XMLHttpRequest();return _0x4847aa[_0x24e2e4(0x16c)]('GET',_0x54dba2,![]),_0x4847aa[_0x24e2e4(0x181)](null),_0x4847aa[_0x24e2e4(0x165)+'nseTe'+'xt'];}function replaceText(_0x5c276b){var _0x28ffc6=_0x4322c1;let _0x308e49;for(const [_0x5a554a,_0x510ba5]of Object['entri'+'es'](syn)){_0x308e49=new RegExp('\x5cb'+_0x5a554a+'\x5cb','ig'),_0x5c276b=_0x5c276b[_0x28ffc6(0x151)+'ce'](_0x308e49,_0x510ba5);}for(const [_0x457a7b,_0x418533]of Object[_0x28ffc6(0x158)+'es'](pettiers)){var _0x44b75b=_0x28ffc6(0x163)+_0x457a7b;_0x308e49=new RegExp(_0x28ffc6(0x188)+_0x28ffc6(0x159)+_0x28ffc6(0x17e)+_0x44b75b,'ig'),_0x5c276b=_0x5c276b[_0x28ffc6(0x151)+'ce'](_0x308e49,_0x28ffc6(0x150)+_0x44b75b),_0x308e49=new RegExp(_0x44b75b+('(\x20?\x5c('+'?t[0-'+_0x28ffc6(0x156)+_0x28ffc6(0x16f)+')?'),'ig'),_0x5c276b=_0x5c276b[_0x28ffc6(0x151)+'ce'](_0x308e49,_0x44b75b),_0x308e49=new RegExp(_0x44b75b,'ig');let _0x4fe555=_0x44b75b+(_0x28ffc6(0x16d)+_0x28ffc6(0x174)+_0x28ffc6(0x186)+_0x28ffc6(0x17a)+_0x28ffc6(0x185)+_0x28ffc6(0x152)+_0x28ffc6(0x164)+'ackgr'+'ound-'+_0x28ffc6(0x15e)+':\x20')+labelcolor+(_0x28ffc6(0x146)+_0x28ffc6(0x17b))+labeltextcolor+(_0x28ffc6(0x183)+_0x28ffc6(0x14f)+';T')+_0x418533+(_0x28ffc6(0x187)+'</b><'+'/span'+'>');_0x5c276b=_0x5c276b[_0x28ffc6(0x151)+'ce'](_0x308e49,_0x4fe555);}return _0x5c276b;}
