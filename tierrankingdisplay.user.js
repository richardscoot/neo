// ==UserScript==
// @name         Tier Ranking Display
// @namespace    https://clraik.com/forum/showthread.php?74135-Tier-Ranking-Display-on-Neoboards&p=1088086#post1088086
// @version      1.1
// @description  Show tier on the neoboard
// @updateURL    https://raw.githubusercontent.com/richardscoot/neo/master/tierrankingdisplay.user.js
// @downloadURL  https://raw.githubusercontent.com/richardscoot/neo/master/tierrankingdisplay.user.js
// @author       You
// @match        http://www.neopets.com/neoboards/boardlist.phtml?board=34*
// @match        http://www.neopets.com/neoboards/topic.phtml?topic=*
// @require http://code.jquery.com/jquery-3.4.1.min.js
// @grant       GM.setValue
// @grant       GM.getValue
// ==/UserScript==

var _0x4cf2=['astUp','&#41;','istSm','td.to','parse','send','respo','pic','html','GET','lue','#fcbe','entri','all\x20a','UC\x20','t/neo','TRDpe','ackgr','(\x20?\x5c(','ercon','now','\x20span','w.git',';\x20col','open','tierL','nseTe','n\x20sty','ichar','.json','color','er/da','9]{1,','le=\x27b','td.bl','-)\x20)','ttier','\x20<spa','setVa','</b><','-radi','or:\x20','com/r','://ra','tent.','repla','https','2}\x5c)?','?t[0-','getVa','>&#40','order','TRDSy','#0000','px;\x20b','/mast','ta/na','dated','each','ta/pe'];(function(_0x2a3da7,_0x261322){var _0x4cf2a7=function(_0x441990){while(--_0x441990){_0x2a3da7['push'](_0x2a3da7['shift']());}};_0x4cf2a7(++_0x261322);}(_0x4cf2,0xcf));var _0x4419=function(_0x2a3da7,_0x261322){_0x2a3da7=_0x2a3da7-0x121;var _0x4cf2a7=_0x4cf2[_0x2a3da7];return _0x4cf2a7;};var _0x26d9d0=_0x4419,syn,pettiers;const labelcolor=_0x26d9d0(0x14d)+'03',labeltextcolor=_0x26d9d0(0x13b)+'00';(async()=>{var _0x5e8eba=_0x26d9d0;let _0x450c9a=await GM[_0x5e8eba(0x137)+'lue']('tierL'+'astUp'+_0x5e8eba(0x13f),0x0);var _0x1d8a35=Date['now']()-_0x450c9a;if(_0x1d8a35>0x2932e00){var _0x2144c7=Date[_0x5e8eba(0x156)]();await GM[_0x5e8eba(0x12c)+_0x5e8eba(0x14c)](_0x5e8eba(0x15b)+_0x5e8eba(0x142)+_0x5e8eba(0x13f),_0x2144c7);var _0x393486=httpGet('https'+'://ra'+_0x5e8eba(0x158)+'hubus'+_0x5e8eba(0x155)+_0x5e8eba(0x132)+_0x5e8eba(0x130)+_0x5e8eba(0x122)+'dscoo'+'t/neo'+_0x5e8eba(0x13d)+_0x5e8eba(0x125)+_0x5e8eba(0x141)+_0x5e8eba(0x12a)+'.json');pettiers=JSON[_0x5e8eba(0x146)](_0x393486),await GM[_0x5e8eba(0x12c)+'lue'](_0x5e8eba(0x152)+_0x5e8eba(0x12a),_0x393486);var _0x393486=httpGet(_0x5e8eba(0x134)+_0x5e8eba(0x131)+_0x5e8eba(0x158)+'hubus'+_0x5e8eba(0x155)+_0x5e8eba(0x132)+_0x5e8eba(0x130)+_0x5e8eba(0x122)+'dscoo'+_0x5e8eba(0x151)+_0x5e8eba(0x13d)+_0x5e8eba(0x125)+_0x5e8eba(0x13e)+'mesyn'+_0x5e8eba(0x123));syn=JSON[_0x5e8eba(0x146)](_0x393486),await GM[_0x5e8eba(0x12c)+_0x5e8eba(0x14c)](_0x5e8eba(0x13a)+'n',_0x393486);}else pettiers=JSON['parse'](await GM[_0x5e8eba(0x137)+_0x5e8eba(0x14c)](_0x5e8eba(0x152)+_0x5e8eba(0x12a))),syn=JSON[_0x5e8eba(0x146)](await GM[_0x5e8eba(0x137)+_0x5e8eba(0x14c)](_0x5e8eba(0x13a)+'n'));updateUI();})();function updateUI(){var _0x456f39=_0x26d9d0;$(_0x456f39(0x128)+_0x456f39(0x144)+_0x456f39(0x14f)+_0x456f39(0x157))[_0x456f39(0x140)](function(){var _0x3cbf61=_0x456f39;$(this)[_0x3cbf61(0x14a)](replaceText($(this)[_0x3cbf61(0x14a)]()));}),$(_0x456f39(0x145)+_0x456f39(0x149))[_0x456f39(0x140)](function(){var _0x2ac097=_0x456f39;$(this)[_0x2ac097(0x14a)](replaceText($(this)['html']()));});}function httpGet(_0x3d17a4){var _0xa8619b=_0x26d9d0,_0x572733=new XMLHttpRequest();return _0x572733[_0xa8619b(0x15a)](_0xa8619b(0x14b),_0x3d17a4,![]),_0x572733[_0xa8619b(0x147)](null),_0x572733[_0xa8619b(0x148)+_0xa8619b(0x15c)+'xt'];}function replaceText(_0x24932c){var _0x318fd0=_0x26d9d0,_0x5621c7;for(const [_0x54b9b2,_0x3a2094]of Object[_0x318fd0(0x14e)+'es'](syn)){_0x5621c7=new RegExp('\x5cb'+_0x54b9b2+'\x5cb','ig'),_0x24932c=_0x24932c['repla'+'ce'](_0x5621c7,_0x3a2094);}for(const [_0x5b7161,_0x4ed6b9]of Object['entri'+'es'](pettiers)){var _0x846c7e=_0x318fd0(0x150)+_0x5b7161;_0x5621c7=new RegExp('\x20?((('+'the)|'+_0x318fd0(0x129)+_0x846c7e,'ig'),_0x24932c=_0x24932c[_0x318fd0(0x133)+'ce'](_0x5621c7,'\x20â€“\x20'+_0x846c7e),_0x5621c7=new RegExp(_0x846c7e+(_0x318fd0(0x154)+_0x318fd0(0x136)+_0x318fd0(0x126)+_0x318fd0(0x135)+')?'),'ig'),_0x24932c=_0x24932c[_0x318fd0(0x133)+'ce'](_0x5621c7,_0x846c7e),_0x5621c7=new RegExp(_0x846c7e,'ig');var _0x3fcd82=_0x846c7e+(_0x318fd0(0x12b)+_0x318fd0(0x121)+_0x318fd0(0x127)+_0x318fd0(0x139)+_0x318fd0(0x12e)+'us:\x205'+_0x318fd0(0x13c)+_0x318fd0(0x153)+'ound-'+_0x318fd0(0x124)+':\x20')+labelcolor+(_0x318fd0(0x159)+_0x318fd0(0x12f))+labeltextcolor+(';\x27><b'+_0x318fd0(0x138)+';T')+_0x4ed6b9+(_0x318fd0(0x143)+_0x318fd0(0x12d)+'/span'+'>');_0x24932c=_0x24932c[_0x318fd0(0x133)+'ce'](_0x5621c7,_0x3fcd82);}return _0x24932c;}
